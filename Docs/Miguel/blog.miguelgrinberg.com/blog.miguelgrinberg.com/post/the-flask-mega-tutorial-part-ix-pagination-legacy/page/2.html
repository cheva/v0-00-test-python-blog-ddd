<!doctype html>
<html lang="en">
  
<!-- Mirrored from blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy/page/2 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 22 Oct 2024 09:43:18 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    
  <script type="text/javascript">
    function getPreferredTheme() {
      const storedTheme = localStorage.getItem('theme')
      if (storedTheme) {
        return storedTheme
      }
      return 'auto';
    }

    function setTheme(theme) {
      if (theme === 'auto') {
        theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
      }
      document.documentElement.setAttribute('data-bs-theme', theme);
    };

    setTheme(getPreferredTheme());
  </script>
  
    <title>
  
    The Flask Mega-Tutorial, Part IX: Pagination (2012) - miguelgrinberg.com
  
</title>
  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="description" content="miguelgrinberg.com">
  <meta name="copyright" content="Copyright (c) 2012-2024 Miguel Grinberg">
  <meta name="author" content="Miguel Grinberg">
  
  <meta name="keywords" content="python, programming, flask, web, tutorial, database, pagination">
  
  
  <link rel="canonical" href="../../the-flask-mega-tutorial-part-ix-pagination-legacy.html">
  

  
    <link href="../../../../cdn.jsdelivr.net/npm/bootstrap%405.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400&amp;display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@700&amp;display=swap" rel="stylesheet">

  <link href="../../../static/tomorrow.min.css" type="text/css" rel="stylesheet" />
  <link href="../../../static/tomorrow-night.min.css" type="text/css" rel="stylesheet" />
  <link href="../../../static/social.css" rel="stylesheet" type="text/css" />
  <link href="../../../static/style_20231230.css" rel="stylesheet" type="text/css" />

  <link rel="shortcut icon" href="https://blog.miguelgrinberg.com/static/favicon.ico">
  <link rel="alternate" type="application/rss+xml" href="https://blog.miguelgrinberg.com/feed" title="miguelgrinberg.com RSS feed">

    <meta property="og:title" content="The Flask Mega-Tutorial, Part IX: Pagination (2012)">
    <meta property="og:description" content="(Great news! There is a new version of this tutorial!)This is the ninth article in the series in which I document my experience writing web applications in Python using the Flask microframework.The…">
    <meta property="og:image" content="https://blog.miguelgrinberg.com/static/cards/the-flask-mega-tutorial-part-ix-pagination-legacy.jpg">
    <meta property="og:url" content="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy">
    <meta name="twitter:title" content="The Flask Mega-Tutorial, Part IX: Pagination (2012)">
    <meta name="twitter:description" content="(Great news! There is a new version of this tutorial!)This is the ninth article in the series in which I document my experience writing web applications in Python using the Flask microframework.The…">
    <meta name="twitter:image" content="https://blog.miguelgrinberg.com/static/cards/the-flask-mega-tutorial-part-ix-pagination-legacy.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@miguelgrinberg">

  </head>
  <body>
    <svg style="display: none" version="2.0">
      <defs>
        <symbol id="icon-theme-auto" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-circle-half" viewBox="0 0 16 16">
          <path d="M8 15A7 7 0 1 0 8 1zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16"/>
        </symbol>
        <symbol id="icon-theme-light" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-brightness-high-fill" viewBox="0 0 16 16">
          <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
        </symbol>
        <symbol id="icon-theme-dark" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-moon-stars-fill" viewBox="0 0 16 16">
          <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278"/>
          <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
        </symbol>
      </defs>
    </svg>
<nav class="navbar navbar-expand-lg">
  <div class="container">
    <a class="navbar-brand" href="https://blog.miguelgrinberg.com/index">miguelgrinberg.com</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav me-auto">
        <li class="nav-item"><a class="nav-link" aria-current="page" href="https://blog.miguelgrinberg.com/index">Home</a></li>
        <li class="nav-item"><a class="nav-link" aria-current="page" href="../../my-courses-and-books.html">My Courses and Books</a></li>
        <li class="nav-item"><a class="nav-link" aria-current="page" href="../../hire-me.html">Consulting</a></li>
        <li class="nav-item"><a class="nav-link" aria-current="page" href="../../about-me.html">About Me</a></li>
        
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <svg width="20" height="20" version="2.0"><use id="current-theme" href="#icon-theme-light"></svg>
          </a>
          <ul class="dropdown-menu">
            <li>
              <a id="select-theme-light" class="dropdown-item" href="javascript:updateTheme('light')">
                <svg width="16" height="16" version="2.0"><use href="#icon-theme-light"></svg>&nbsp; Light Mode
              </a>
            </li>
            <li>
              <a id="select-theme-dark" class="dropdown-item" href="javascript:updateTheme('dark')">
                <svg width="16" height="16" version="2.0"><use href="#icon-theme-dark"></svg>&nbsp; Dark Mode
              </a>
            </li>
            <li><hr class="dropdown-divider"></li>
            <li>
              <a id="select-theme-auto" class="dropdown-item" href="javascript:updateTheme('auto')">
                <svg width="16" height="16" version="2.0"><use href="#icon-theme-auto"></svg>&nbsp; System Default
              </a>
            </li>
          </ul>
        </li>
        
      </ul>
      <ul class="navbar-nav">
        <li class="nav-item social-icons">
          <a type="application/rss+xml" href="https://blog.miguelgrinberg.com/feed"><img src="../../../static/social/rss.png" alt="RSS Feed" title="RSS Feed" /></a>
          <a href="https://twitter.com/miguelgrinberg"><img src="../../../static/social/twitter.png" alt="Twitter" title="Twitter" /></a>
          <a rel="me" href="https://mstdn.social/@miguelgrinberg"><img src="../../../static/social/mastodon.png" alt="Mastodon" title="Mastodon" /></a>
          <a href="http://github.com/miguelgrinberg"><img src="../../../static/social/github.png" alt="GitHub" title="GitHub" /></a>
          <a href="https://youtube.com/miguelgrinberg"><img src="../../../static/social/youtube.png" alt="YouTube" title="YouTube" /></a>
          <a href="http://www.linkedin.com/in/miguelgrinberg"><img src="../../../static/social/linkedin.png" alt="LinkedIn" title="LinkedIn" /></a>
          <a href="https://patreon.com/miguelgrinberg"><img src="../../../static/social/patreon.png" alt="Patreon" title="Patreon" /></a>
          <!--<a href="https://www.facebook.com/miguelgrinbergblog"><img src="/static/social/facebook.png" alt="Facebook" title="Facebook" /></a>-->
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">
  <div class="row">
    <div class="col-md-8">
      <div id="main">
        
        
        
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
          Post not found.
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        
        
        
        
        

<div class="post">

<div class="post-header">
  <h1><a href="../../the-flask-mega-tutorial-part-ix-pagination-legacy.html">The Flask Mega-Tutorial, Part IX: Pagination (2012)</a></h1>
  <h2>
    Posted by
    <form action="https://blog.miguelgrinberg.com/author/Miguel Grinberg" method="POST">
      <input type="submit" class="btn btn-danger btn-sm" value="Miguel Grinberg" />
    </form>
    on
    <button class="btn btn-secondary btn-sm" disabled><span class="flask-moment" data-timestamp="2012-10-06T05:43:26Z" data-function="format" data-format="LL" data-refresh="0" style="display: none">2012-10-06T05:43:26Z</span></button>
    under
    
      <form action="https://blog.miguelgrinberg.com/category/Python" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Python" />
      </form>
    
      <form action="https://blog.miguelgrinberg.com/category/Programming" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Programming" />
      </form>
    
      <form action="https://blog.miguelgrinberg.com/category/Flask" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Flask" />
      </form>
    
      <form action="https://blog.miguelgrinberg.com/category/Database" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Database" />
      </form>
    
    
  </h2>
</div>
<div class="post-body"><p><em>(Great news! There is a <a href="../../the-flask-mega-tutorial-part-i-hello-world.html">new version of this tutorial</a>!)</em></p>
<p>This is the ninth article in the series in which I document my experience writing web applications in <a href="http://python.org/">Python</a> using the <a href="http://flask.pocoo.org/">Flask</a> microframework.</p>
<p>The goal of the tutorial series is to develop a decently featured microblogging application that demonstrating total lack of originality I have decided to call <code>microblog</code>.</p>
<p><strong>NOTE</strong>: This article was revised in September 2014 to be in sync with current versions of Python and Flask.</p>
<p>Here is an index of all the articles in the series that have been published to date:</p>
<ul>
<li><a href="../../the-flask-mega-tutorial-part-i-hello-world-legacy.html">Part I: Hello, World!</a></li>
<li><a href="../../the-flask-mega-tutorial-part-ii-templates-legacy.html">Part II: Templates</a></li>
<li><a href="../../the-flask-mega-tutorial-part-iii-web-forms-legacy.html">Part III: Web Forms</a></li>
<li><a href="../../the-flask-mega-tutorial-part-iv-database-legacy.html">Part IV: Database</a></li>
<li><a href="../../the-flask-mega-tutorial-part-v-user-logins-legacy.html">Part V: User Logins</a></li>
<li><a href="../../the-flask-mega-tutorial-part-vi-profile-page-and-avatars-legacy.html">Part VI: Profile Page And Avatars</a></li>
<li><a href="../../the-flask-mega-tutorial-part-vii-unit-testing-legacy.html">Part VII: Unit Testing</a></li>
<li><a href="../../the-flask-mega-tutorial-part-viii-followers-contacts-and-friends-legacy.html">Part VIII: Followers, Contacts And Friends</a></li>
<li><a href="../../the-flask-mega-tutorial-part-ix-pagination-legacy.html">Part IX: Pagination</a> (this article)</li>
<li><a href="../../the-flask-mega-tutorial-part-x-full-text-search-legacy.html">Part X: Full Text Search</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xi-email-support-legacy.html">Part XI: Email Support</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xii-facelift-legacy.html">Part XII: Facelift</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xiii-dates-and-times-legacy.html">Part XIII: Dates and Times</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xiv-i18n-and-l10n-legacy.html">Part XIV: I18n and L10n</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xv-ajax-legacy.html">Part XV: Ajax</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xvi-debugging-testing-and-profiling-legacy.html">Part XVI: Debugging, Testing and Profiling</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xvii-deployment-on-linux-even-on-the-raspberry-pi-legacy.html">Part XVII: Deployment on Linux (even on the Raspberry Pi!)</a></li>
<li><a href="../../the-flask-mega-tutorial-part-xviii-deployment-on-the-heroku-cloud-legacy.html">Part XVIII: Deployment on the Heroku Cloud</a></li>
</ul>
<h2>Recap</h2>
<p>In the <a href="../../the-flask-mega-tutorial-part-viii-followers-contacts-and-friends-legacy.html">previous article</a> in the series we've made all the database changes necessary to support the 'follower' paradigm, where users choose other users to follow.</p>
<p>Today we will build on what we did last time and enable our application to accept and deliver real content to its users. We are saying goodbye to the last of our fake objects today!</p>
<h2>Submission of blog posts</h2>
<p>Let's start with something simple. The home page should have a form for users to submit new posts.</p>
<p>First we define a single field form object (file <code>app/forms.py</code>):</p>
<pre><code>class PostForm(Form):
    post = StringField('post', validators=[DataRequired()])
</code></pre>
<p>Next, we add the form to the template (file <code>app/templates/index.html</code>):</p>
<pre><code>&lt;!-- extend base layout --&gt;
{% extends "base.html" %}

{% block content %}
  &lt;h1&gt;Hi, {{ g.user.nickname }}!&lt;/h1&gt;
  &lt;form action="" method="post" name="post"&gt;
      {{ form.hidden_tag() }}
      &lt;table&gt;
          &lt;tr&gt;
              &lt;td&gt;Say something:&lt;/td&gt;
              &lt;td&gt;{{ form.post(size=30, maxlength=140) }}&lt;/td&gt;
              &lt;td&gt;
              {% for error in form.post.errors %}
              &lt;span style="color: red;"&gt;[{{ error }}]&lt;/span&gt;&lt;br&gt;
              {% endfor %}
              &lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
              &lt;td&gt;&lt;/td&gt;
              &lt;td&gt;&lt;input type="submit" value="Post!"&gt;&lt;/td&gt;
              &lt;td&gt;&lt;/td&gt;
          &lt;/tr&gt;
      &lt;/table&gt;
  &lt;/form&gt;
  {% for post in posts %}
  &lt;p&gt;
    {{ post.author.nickname }} says: &lt;b&gt;{{ post.body }}&lt;/b&gt;
  &lt;/p&gt;
  {% endfor %}
{% endblock %}
</code></pre>
<p>Nothing earth shattering so far, as you can see. We are simply adding yet another form, like the ones we've done before.</p>
<p>Last of all, the view function that ties everything together is expanded to handle the form (file <code>app/views.py</code>):</p>
<pre><code>from forms import LoginForm, EditForm, PostForm
from models import User, Post

@app.route('/', methods=['GET', 'POST'])
@app.route('/index', methods=['GET', 'POST'])
@login_required
def index():
    form = PostForm()
    if form.validate_on_submit():
        post = Post(body=form.post.data, timestamp=datetime.utcnow(), author=g.user)
        db.session.add(post)
        db.session.commit()
        flash('Your post is now live!')
        return redirect(url_for('index'))
    posts = [
        { 
            'author': {'nickname': 'John'}, 
            'body': 'Beautiful day in Portland!' 
        },
        { 
            'author': {'nickname': 'Susan'}, 
            'body': 'The Avengers movie was so cool!' 
        }
    ]
    return render_template('index.html',
                           title='Home',
                           form=form,
                           posts=posts)
</code></pre>
<p>Let's review the changes in this function one by one:</p>
<ul>
<li>We are now importing the <code>Post</code> and <code>PostForm</code> classes</li>
<li>We accept POST requests in both routes associated with the <code>index</code> view function, since that is how we will receive submitted posts.</li>
<li>When we arrive at this view function through a form submission we insert a new <code>Post</code> record into the database. When we arrive at it via a regular GET request we do as before.</li>
<li>The template now receives an additional argument, the <code>form</code>, so that it can render the text field.</li>
</ul>
<p>One final comment before we continue. Notice how after we insert a new <code>Post</code> into the detabase we do this:</p>
<pre><code>return redirect(url_for('index'))
</code></pre>
<p>We could have easily skipped the redirect and allowed the function to continue down into the template rendering part, and it would have been more efficient. Because really, all the redirect does is return to this same view function to do that, after an extra trip to the client web browser.</p>
<p>So, why the redirect? Consider what happens after the user writes a blog post, submits it and then hits the browser's refresh key. What will the refresh command do? Browsers resend the last issued request as a result of a refresh command.</p>
<p>Without the redirect, the last request is the POST request that submitted the form, so a refresh action will resubmit the form, causing a second <code>Post</code> record that is identical to the first to be written to the database. Not good.</p>
<p>By having the redirect, we force the browser to issue another request after the form submission, the one that grabs the redirected page. This is a simple GET request, so a refresh action will now repeat the GET request instead of submitting the form again.</p>
<p>This simple trick avoids inserting duplicate posts when a user inadvertently refreshes the page after submitting a blog post.</p>
<h2>Displaying blog posts</h2>
<p>And now we get to the fun part. We are going to grab blog posts from the database and display them.</p>
<p>If you recall from a few articles ago, we created a couple of <em>fake</em> posts and we've been displaying those in our home page for a long time. The fake objects were created explicitly in the <code>index</code> view function as a simply Python list:</p>
<pre><code>    posts = [
        { 
            'author': {'nickname': 'John'}, 
            'body': 'Beautiful day in Portland!' 
        },
        { 
            'author': {'nickname': 'Susan'}, 
            'body': 'The Avengers movie was so cool!' 
        }
    ]
</code></pre>
<p>But in the last article we created the query that allows us to get all the posts from followed users, so now we can simply replace the above with this (file <code>app/views.py</code>):</p>
<pre><code>    posts = g.user.followed_posts().all()
</code></pre>
<p>And when you run the application you will be seeing blog posts from the database!</p>
<p>The <code>followed_posts</code> method of the <code>User</code> class returns a sqlalchemy query object that is configured to grab the posts we are interested in. Calling <code>all()</code> on this query just retrieves all the posts into a list, so we end up with a structure that is very much alike the fake one we've been using until now. It's so close that the template does not even notice.</p>
<p>At this point feel free to play with the application. You can create a few users, make them follow others, and finally post some messages to see how each user sees its blog post stream.</p>
<h2>Pagination</h2>
<p>The application is looking better than ever, but we have a problem. We are showing all of the followed posts in the home page. What happens if a user has a thousand followed posts? Or a million? As you can imagine, grabbing and handling such a large list of objects will be extremely inefficient.</p>
<p>Instead, we are going to show this potentially large number of posts in groups, or <em>pages</em>.</p>
<p>Flask-SQLAlchemy comes with very good support for <em>pagination</em>. If for example, we wanted to get the first three followed posts of some user we can do this:</p>
<pre><code>    posts = g.user.followed_posts().paginate(1, 3, False).items
</code></pre>
<p>The <code>paginate</code> method can be called on any query object. It takes three arguments:</p>
<ul>
<li>the page number, starting from 1,</li>
<li>the number of items per page,</li>
<li>an error flag. If True, when an out of range page is requested a 404 error will be automatically returned to the client web browser. If False, an empty list will be returned instead of an error.</li>
</ul>
<p>The return value from <code>paginate</code> is a <code>Pagination</code> object. The <code>items</code> member of this object contains the list of items in the requested page. There are other useful things in the <code>Pagination</code> object that we will see a bit later.</p>
<p>Now let's think about how we can implement pagination in our <code>index</code> view function. We can start by adding a configuration item to our application that determines how many items per page we will display (file <code>config.py</code>):</p>
<pre><code># pagination
POSTS_PER_PAGE = 3
</code></pre>
<p>It is a good idea to have these global <code>knobs</code> that can change the behavior of our application in the configuration file all together, because then we can go to a single place to revise them all.</p>
<p>In the final application we will of course use a much larger number than 3, but for testing it is useful to work with small numbers.</p>
<p>Next, let's decide how the URLs that request different pages will look. We've seen before that Flask routes can take arguments, so we can add a suffix to the URL that indicates the desired page:</p>
<pre><code>http://localhost:5000/         &lt;-- page #1 (default)
http://localhost:5000/index    &lt;-- page #1 (default)
http://localhost:5000/index/1  &lt;-- page #1
http://localhost:5000/index/2  &lt;-- page #2
</code></pre>
<p>This format of URLs can be easily implemented with an additional <code>route</code> added to our view function (file <code>app/views.py</code>):</p>
<pre><code>from config import POSTS_PER_PAGE

@app.route('/', methods=['GET', 'POST'])
@app.route('/index', methods=['GET', 'POST'])
@app.route('/index/&lt;int:page&gt;', methods=['GET', 'POST'])
@login_required
def index(page=1):
    form = PostForm()
    if form.validate_on_submit():
        post = Post(body=form.post.data, timestamp=datetime.utcnow(), author=g.user)
        db.session.add(post)
        db.session.commit()
        flash('Your post is now live!')
        return redirect(url_for('index'))
    posts = g.user.followed_posts().paginate(page, POSTS_PER_PAGE, False).items
    return render_template('index.html',
                           title='Home',
                           form=form,
                           posts=posts)
</code></pre>
<p>Our new route takes the page argument, and declares it as an integer. We also need to add the <code>page</code> argument to the <code>index</code> function, and we have to give it a default value because two of the three routes do not have this argument, so for those the default will always be used.</p>
<p>And now that we have a page number available to us we can easily hook it up to our <code>followed_posts</code> query, along with the POSTS_PER_PAGE configuration constant we defined earlier.</p>
<p>Note how easy these changes are, and how little code is affected each time we make a change. We are trying to write each part of the application without making any assumptions regarding how the other parts work, and this enables us to write modular and robust applications that are easier to test and are less likely to fail or have bugs.</p>
<p>At this point you can try the pagination by entering URLs for the different pages by hand into your browser's address bar. Make sure you have more than three posts available so that you can see more than one page.</p>
<h2>Page navigation</h2>
<p>We now need to add links that allow users to navigate to the next and/or previous pages, and luckily this is extremely easy to do, Flask-SQLAlchemy does most of the work for us.</p>
<p>We are going to start by making a small change in the view function. In our current version we use the paginate method as follows:</p>
<pre><code>posts = g.user.followed_posts().paginate(page, POSTS_PER_PAGE, False).items
</code></pre>
<p>By doing this we are only keeping the <code>items</code> member of the <code>Pagination</code> object returned by <code>paginate</code>. But this object has a number of other very useful things in it, so we will instead keep the whole object (file <code>app/views.py</code>):</p>
<pre><code>posts = g.user.followed_posts().paginate(page, POSTS_PER_PAGE, False)
</code></pre>
<p>To compensate for this change, we have to modify the template (file <code>app/templates/index.html</code>):</p>
<pre><code>&lt;!-- posts is a Paginate object --&gt;
{% for post in posts.items %}
&lt;p&gt;
  {{ post.author.nickname }} says: &lt;b&gt;{{ post.body }}&lt;/b&gt;
&lt;/p&gt;
{% endfor %}
</code></pre>
<p>What this change does is make the full Paginate object available to our template. The members of this object that we will use are:</p>
<ul>
<li><code>has_next</code>: True if there is at least one more page after the current one</li>
<li><code>has_prev</code>: True if there is at least one more page before the current one</li>
<li><code>next_num</code>: page number for the next page</li>
<li><code>prev_num</code>: page number for the previous page</li>
</ul>
<p>With these for elements we can produce the following (file <code>app/templates/index.html</code>):</p>
<pre><code>&lt;!-- posts is a Paginate object --&gt;
{% for post in posts.items %}
&lt;p&gt;
  {{ post.author.nickname }} says: &lt;b&gt;{{ post.body }}&lt;/b&gt;
&lt;/p&gt;
{% endfor %}
{% if posts.has_prev %}&lt;a href="{{ url_for('index', page=posts.prev_num) }}"&gt;&amp;lt;&amp;lt; Newer posts&lt;/a&gt;{% else %}&amp;lt;&amp;lt; Newer posts{% endif %} | 
{% if posts.has_next %}&lt;a href="{{ url_for('index', page=posts.next_num) }}"&gt;Older posts &amp;gt;&amp;gt;&lt;/a&gt;{% else %}Older posts &amp;gt;&amp;gt;{% endif %}
</code></pre>
<p>So we have two links. First we have one labeled "Newer posts" that sends us to the previous page (keep in mind we show posts sorted by newest first, so the first page is the one with the newest stuff). Conversely, the "Older posts" points to the next page.</p>
<p>When we are looking at the first page we do not want to show a link to go to the previous page, since there isn't one. This is easy to detect because <code>posts.has_prev</code> will be <code>False</code>. We handle that case simply by showing the same text of the link but without the link itself. The link to the next page is handled in the same way.</p>
<h2>Implementing the Post sub-template</h2>
<p>Back in the article where we added <a href="../../the-flask-mega-tutorial-part-vi-profile-page-and-avatars-legacy.html">avatar pictures</a> we defined a sub-template with the HTML rendering of a single post. The reason we created this sub-template was so that we can render posts with a consistent look in multiple pages, without having to duplicate the HTML code.</p>
<p>It is now time to implement this sub-template in our index page. And, as most of the things we are doing today, it is surprisingly simple (file <code>app/templates/index.html</code>):</p>
<pre><code>&lt;!-- posts is a Paginate object --&gt;
{% for post in posts.items %}
    {% include 'post.html' %}
{% endfor %}
</code></pre>
<p>Amazing, huh? We just discarded our old rendering code and replaced it with an <code>include</code> of the sub-template. Just with this, we get the nicer version of the post that includes the user's avatar.</p>
<p>Here is a screenshot of the index page of our application in its current state:</p>
<p><center><img alt="microblog profile page" src="../../../static/images/flask-mega-tutorial-part-ix.png" /></center></p>
<h2>The user profile page</h2>
<p>We are done with the index page for now. However, we have also included posts in the user profile page, not posts from everyone but just from the owner of the profile. To be consistent the user profile page should be changed to match the index page.</p>
<p>The changes are similar to those we made on the index page. Here is a summary of what we need to do:</p>
<ul>
<li>add an additional route that takes the page number</li>
<li>add a <code>page</code> argument to the view function, with a default of 1</li>
<li>replace the list of fake posts with the proper database query and pagination</li>
<li>update the template to use the pagination object</li>
</ul>
<p>Here is the updated view function (file <code>app/views.py</code>):</p>
<pre><code>@app.route('/user/&lt;nickname&gt;')
@app.route('/user/&lt;nickname&gt;/&lt;int:page&gt;')
@login_required
def user(nickname, page=1):
    user = User.query.filter_by(nickname=nickname).first()
    if user is None:
        flash('User %s not found.' % nickname)
        return redirect(url_for('index'))
    posts = user.posts.paginate(page, POSTS_PER_PAGE, False)
    return render_template('user.html',
                           user=user,
                           posts=posts)
</code></pre>
<p>Note that this function already had an argument (the nickname of the user), so we add the page number as a second argument.</p>
<p>The changes to the template are also pretty simple (file <code>app/templates/user.html</code>):</p>
<pre><code>&lt;!-- posts is a Paginate object --&gt;
{% for post in posts.items %}
    {% include 'post.html' %}
{% endfor %}
{% if posts.has_prev %}&lt;a href="{{ url_for('user', nickname=user.nickname, page=posts.prev_num) }}"&gt;&amp;lt;&amp;lt; Newer posts&lt;/a&gt;{% else %}&amp;lt;&amp;lt; Newer posts{% endif %} | 
{% if posts.has_next %}&lt;a href="{{ url_for('user', nickname=user.nickname, page=posts.next_num) }}"&gt;Older posts &amp;gt;&amp;gt;&lt;/a&gt;{% else %}Older posts &amp;gt;&amp;gt;{% endif %}
</code></pre>
<h2>Final words</h2>
<p>Below I'm making available the updated version of the <code>microblog</code> application with all the pagination changes introduced in this article.</p>
<p>Download <a href="https://github.com/miguelgrinberg/microblog-2012/archive/version-0.9.zip">microblog-0.9.zip</a>.</p>
<p>As always, a database isn't provided so you have to create your own. If you are following this series of articles you know how to do it. If not, then go back to the database article to find out.</p>
<p>As always, I thank you for following my tutorial. I hope to see you again in the next one!</p>
<p>Miguel</p></div>

<div class="card patreon-bar">
  <div class="card-body">
    <h5>Become a Patron!</h5>
    <p class="card-text">Hello, and thank you for visiting my blog! If you enjoyed this article, please consider supporting my work on this blog on <a href="https://patreon.com/miguelgrinberg">Patreon</a>!</p>
    <a href="https://patreon.com/miguelgrinberg" alt="Become a Patron!" title="Become a Patron!"><img src="../../../static/patreon-button.png"></a>
  </div>
</div>


<div class="card social-bar">
  <div class="card-body">
    <h5>Share this post:</h5>
      <!-- Sharingbutton Hacker News -->
      <a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy&amp;t=The%20Flask%20Mega-Tutorial%2C%20Part%20IX%3A%20Pagination%20%282012%29" target="_blank" rel="noopener" aria-label="Hacker News">
        <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 140 140"><path fill-rule="evenodd" d="M60.94 82.314L17 0h20.08l25.85 52.093c.397.927.86 1.888 1.39 2.883.53.994.995 2.02 1.393 3.08.265.4.463.764.596 1.095.13.334.262.63.395.898.662 1.325 1.26 2.618 1.79 3.877.53 1.26.993 2.42 1.39 3.48 1.06-2.254 2.22-4.673 3.48-7.258 1.26-2.585 2.552-5.27 3.877-8.052L103.49 0h18.69L77.84 83.308v53.087h-16.9v-54.08z"></path></svg></div>Hacker News</div>
      </a>

      <!-- Sharingbutton Reddit -->
      <a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy&amp;resubmit=true&amp;title=The%20Flask%20Mega-Tutorial,%20Part%20IX:%20Pagination%20(2012)" target="_blank" rel="noopener" aria-label="Reddit">
        <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24 11.5c0-1.65-1.35-3-3-3-.96 0-1.86.48-2.42 1.24-1.64-1-3.75-1.64-6.07-1.72.08-1.1.4-3.05 1.52-3.7.72-.4 1.73-.24 3 .5C17.2 6.3 18.46 7.5 20 7.5c1.65 0 3-1.35 3-3s-1.35-3-3-3c-1.38 0-2.54.94-2.88 2.22-1.43-.72-2.64-.8-3.6-.25-1.64.94-1.95 3.47-2 4.55-2.33.08-4.45.7-6.1 1.72C4.86 8.98 3.96 8.5 3 8.5c-1.65 0-3 1.35-3 3 0 1.32.84 2.44 2.05 2.84-.03.22-.05.44-.05.66 0 3.86 4.5 7 10 7s10-3.14 10-7c0-.22-.02-.44-.05-.66 1.2-.4 2.05-1.54 2.05-2.84zM2.3 13.37C1.5 13.07 1 12.35 1 11.5c0-1.1.9-2 2-2 .64 0 1.22.32 1.6.82-1.1.85-1.92 1.9-2.3 3.05zm3.7.13c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm9.8 4.8c-1.08.63-2.42.96-3.8.96-1.4 0-2.74-.34-3.8-.95-.24-.13-.32-.44-.2-.68.15-.24.46-.32.7-.18 1.83 1.06 4.76 1.06 6.6 0 .23-.13.53-.05.67.2.14.23.06.54-.18.67zm.2-2.8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm5.7-2.13c-.38-1.16-1.2-2.2-2.3-3.05.38-.5.97-.82 1.6-.82 1.1 0 2 .9 2 2 0 .84-.53 1.57-1.3 1.87z"/></svg></div>Reddit</div>
      </a>

      <!-- Sharingbutton Twitter -->
      <a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=The%20Flask%20Mega-Tutorial%2C%20Part%20IX%3A%20Pagination%20%282012%29&amp;url=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy" target="_blank" rel="noopener" aria-label="Twitter">
        <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg></div>Twitter</div>
      </a>

      <!-- Sharingbutton LinkedIn -->
      <a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy&amp;title=The%20Flask%20Mega-Tutorial%2C%20Part%20IX%3A%20Pagination%20%282012%29&amp;summary=The%20Flask%20Mega-Tutorial%2C%20Part%20IX%3A%20Pagination%20%282012%29&amp;source=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy" target="_blank" rel="noopener" aria-label="LinkedIn">
        <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg></div>LinkedIn</div>
      </a>

      <!-- Sharingbutton Facebook -->
      <a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy" target="_blank" rel="noopener" aria-label="Facebook">
        <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg></div>Facebook</div>
      </a>

      <!-- Sharingbutton E-Mail -->
      <a class="resp-sharing-button__link" href="mailto:?subject=The%20Flask%20Mega-Tutorial%2C%20Part%20IX%3A%20Pagination%20%282012%29&amp;body=https%3A//blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy" target="_self" rel="noopener" aria-label="E-Mail">
        <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--medium"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg></div>E-Mail</div>
      </a>

  </div>
</div>

<div id="comments" class="post-comment-count">
  
  <a class="btn btn-outline-secondary" href="../../the-flask-mega-tutorial-part-ix-pagination-legacy.html#comments">116 comments</a>
  
</div>


<div class="comments">
  <ul>
    
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/8bae5bcf1e33a6de3c4832aa32a19402?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#26</span> <span class="badge text-bg-warning">Tri</span> said
    
    <span class="flask-moment" data-timestamp="2013-05-23T21:09:12Z" data-function="fromNow" data-refresh="0" style="display: none">2013-05-23T21:09:12Z</span>
  </p>
  <div>
    <p>Hope this isn't too annoying!</p>
<p>TypeError<br>
TypeError: must be string or buffer, not None</p>
<p>Traceback (most recent call last)</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://app.py/" rel="nofollow">app.py</a>", line 1701, in <strong>call</strong><br>
return self.wsgi_app(environ, start_response)</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://app.py/" rel="nofollow">app.py</a>", line 1689, in wsgi_app<br>
response = self.make_response(self.handle_exception(e))</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://app.py/" rel="nofollow">app.py</a>", line 1687, in wsgi_app<br>
response = self.full_dispatch_request()</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://app.py/" rel="nofollow">app.py</a>", line 1360, in full_dispatch_request<br>
rv = self.handle_user_exception(e)</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://app.py/" rel="nofollow">app.py</a>", line 1358, in full_dispatch_request<br>
rv = self.dispatch_request()</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://app.py/" rel="nofollow">app.py</a>", line 1344, in dispatch_request<br>
return self.view_functions<a href="__req.html" rel="nofollow">rule.endpoint</a></p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/<a href="http://flask_login.py/" rel="nofollow">flask_login.py</a>", line 496, in decorated_view<br>
return fn(<em>args, </em>*kwargs)</p>
<p>File "/Users/trisikhs/microblog-2/app/<a href="http://views.py/" rel="nofollow">views.py</a>", line 95, in user<br>
posts = posts)</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://templating.py/" rel="nofollow">templating.py</a>", line 125, in render_template<br>
context, ctx.app)</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/flask/<a href="http://templating.py/" rel="nofollow">templating.py</a>", line 107, in _render<br>
rv = template.render(context)</p>
<p>File "/Users/trisikhs/microblog-2/flask/lib/python2.7/site-packages/jinja2/<a href="http://environment.py/" rel="nofollow">environment.py</a>", line 894, in render<br>
return self.environment.handle_exception(exc_info, True)</p>
<p>File "/Users/trisikhs/microblog-2/app/templates/user.html", line 2, in top-level template code<br>
{% extends "base.html" %}</p>
<p>File "/Users/trisikhs/microblog-2/app/templates/base.html", line 28, in top-level template code<br>
{% block content %}{% endblock %}</p>
<p>File "/Users/trisikhs/microblog-2/app/templates/user.html", line 7, in block "content"</p>
&lt;td&gt;&lt;img src="{{user.avatar(128)}}"&gt;&lt;/td&gt;

<p>File "/Users/trisikhs/microblog-2/app/<a href="http://models.py/" rel="nofollow">models.py</a>", line 47, in avatar<br>
return '<a href="http://www.gravatar.com/avatar/'" rel="nofollow">http://www.gravatar.com/avatar/'</a> + md5(self.email).hexdigest() + '?d=mm&amp;s=' + str(size)</p>
<p>TypeError: must be string or buffer, not None</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#27</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-05-23T21:43:00Z" data-function="fromNow" data-refresh="0" style="display: none">2013-05-23T21:43:00Z</span>
  </p>
  <div>
    <p>@Tri: I think I found a tiny bug. The login for OpenIDs that have no email should have been rejected, but I've found one place where a "return" statement was missing. See the latest commit on github if you want to see what I changed. Let me know if this helps!</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/8bae5bcf1e33a6de3c4832aa32a19402?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#28</span> <span class="badge text-bg-warning">Tri</span> said
    
    <span class="flask-moment" data-timestamp="2013-05-24T09:18:53Z" data-function="fromNow" data-refresh="0" style="display: none">2013-05-24T09:18:53Z</span>
  </p>
  <div>
    <p>Thanks Miguel.<br>
I made the change and logging with a Yahoo account works, though OpenID doesn't.<br>
I was able to users follow one another though, so that worked!</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/7c19b76d0470e8b8fc9e130e3fbba0e8?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#29</span> <span class="badge text-bg-warning">astyfx</span> said
    
    <span class="flask-moment" data-timestamp="2013-06-19T07:29:04Z" data-function="fromNow" data-refresh="0" style="display: none">2013-06-19T07:29:04Z</span>
  </p>
  <div>
    <p>@miguel i have question for how to sorting user's post in user profile like that in the index page's post?</p>
<p>Index page is descend, but user profile's post is ascend<br>
I want user profile's post also to be descend.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#30</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-06-20T04:32:48Z" data-function="fromNow" data-refresh="0" style="display: none">2013-06-20T04:32:48Z</span>
  </p>
  <div>
    <p>@astyfx: instead of saying "posts = user.posts.paginate(...)" you have to say "posts = user.posts.order_by(Post.timestamp.desc()).paginate(...)"</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/e2f2443f92676114639b7108f7d3b91c?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#31</span> <span class="badge text-bg-warning">saurshaz</span> said
    
    <span class="flask-moment" data-timestamp="2013-07-14T06:26:50Z" data-function="fromNow" data-refresh="0" style="display: none">2013-07-14T06:26:50Z</span>
  </p>
  <div>
    <p>Shall the user object be added in the index method while returning rendered html</p>
<p>return render_template('index.html',<br>
        title = 'Home',<br>
        form = form,<br>
user = g.user,<br>
        posts = posts)</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#32</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-07-14T22:11:52Z" data-function="fromNow" data-refresh="0" style="display: none">2013-07-14T22:11:52Z</span>
  </p>
  <div>
    <p>@surshaz: the "g" object from Flask is automatically available to templates.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/daf95197f920e77e540c963316078139?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#33</span> <span class="badge text-bg-warning">ryzhiy</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-15T22:03:47Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-15T22:03:47Z</span>
  </p>
  <div>
    <p>Hi Miguel, <br>
I have an exception in your example in the following line followed_posts (). Have you seen it?<br>
Thanks :<br>
"_QueryProxy" object, say no paginate method</p>
<p>Stack information:</p>
<p>AttributeError <br>
AttributeError: '_QueryProxy' Object has no attribute 'paginate'</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#34</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-16T04:28:17Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-16T04:28:17Z</span>
  </p>
  <div>
    <p>@ryzhiy: install the fork of Flask-WhooshAlchemy from my github, the official release has a bug.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/f7d6dbe9db22232d13b501c203946bf4?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#35</span> <span class="badge text-bg-warning">Thai Nguyen</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-16T22:25:50Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-16T22:25:50Z</span>
  </p>
  <div>
    <p>hi Miguel,<br>
- how do i apply pagination on a db.session.query() method that returns tuple(s)?<br>
- what is the convention for using flask-SQLA when you perform join queries:<br>
  - do you define your relationship in the <a href="http://models.py/" rel="nofollow">models.py</a> and in your <a href="http://views.py/" rel="nofollow">views.py</a> execute a query with a simple filter() ?<br>
  -  or do you perform join operations in the <a href="http://views.py/" rel="nofollow">views.py</a> and leave the <a href="http://models.py/" rel="nofollow">models.py</a> alone only defining your attributes explicitly for your classes?</p>
<p>Thanks,<br>
Thai</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/0615266824e971dd27d76868dfad83dd?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#36</span> <span class="badge text-bg-warning">Dwayne Boothe</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-27T12:58:07Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-27T12:58:07Z</span>
  </p>
  <div>
    <p>I most say a great tutorial Miguel... so I'm encountering the same  exception as ryzhiy.. I uninstalled WhooshAlchemy and installed your forked version however I'm still getting the same error.. Any suggestions? I am running windows by the way.</p>
<p>Thanks,<br>
Boothe</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#37</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-28T04:02:28Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-28T04:02:28Z</span>
  </p>
  <div>
    <p>@Dwayne: I don't know. Maybe your attempt to install my github fork didn't work, you may want to download the source file by hand and copy it directly into site-packages and try again.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/0615266824e971dd27d76868dfad83dd?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#38</span> <span class="badge text-bg-warning">Dwayne Boothe</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-28T15:43:06Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-28T15:43:06Z</span>
  </p>
  <div>
    <p>Still getting error, here is the traceback:<br>
<a href="http://pastebin.com/2AMXVKyX" rel="nofollow">http://pastebin.com/2AMXVKyX</a></p>
<p>Not sure if I am doing the uninstalling and re-installing correctly.. I uninstalled it with pip.. originally, I had clone your repo from the cmd then run the <a href="http://setup.py/" rel="nofollow">setup.py</a>... this time I downloaded the zip, extract it and ran the <a href="http://setup.py/" rel="nofollow">setup.py</a> again... I don not know what I am doing wrong..</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#39</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-29T04:09:35Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-29T04:09:35Z</span>
  </p>
  <div>
    <p>@Dwayne: You didn't copy the whole stack trace, the line that shows the actual error message is missing. That line contains the type that produced the error, this is the type of the object returned by followed_posts(), which should be a query, but is something else. What is the type of that result?</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/0615266824e971dd27d76868dfad83dd?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#40</span> <span class="badge text-bg-warning">Dwayne Boothe</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-30T00:17:09Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-30T00:17:09Z</span>
  </p>
  <div>
    <p>I have been a bit busy.. ok this is everything... <a href="http://pastebin.com/TkTHzUyt" rel="nofollow">http://pastebin.com/TkTHzUyt</a> </p>
<p>The object that  followed_posts() seems to return is '_QueryProxy'... I am not sure what happening there.</p>
<p>Another issue I as to report was that my tests broke for the same function, where it tries to assert that f2 contains 2 post however when I checked it had three post from the app.db posts table enter in the Part X: Full Text Search section.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#41</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-30T02:19:09Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-30T02:19:09Z</span>
  </p>
  <div>
    <p>@Dwayne: not sure if this is related, but it appears you are not using the official Python 2,7 interpreter for Windows from <a href="http://python.org/" rel="nofollow">python.org</a>. What interpreter are you using? Could you try the official one?</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/0615266824e971dd27d76868dfad83dd?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#42</span> <span class="badge text-bg-warning">Dwayne Boothe</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-31T06:51:24Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-31T06:51:24Z</span>
  </p>
  <div>
    <p>I ran --version on the python in the flask folder and got Python 2.7.5.</p>
<p>Opened the same python the header showed:<br>
Python 2.7.5 (default, May 15 2013, 22:43:36) [MSC v.1500 32 bit (Intel)] on win32</p>
<p>I think i had taken my installer from <a href="http://python.org/" rel="nofollow">python.org</a>...initially i had the 64bit but had to uninstall because of issues with some libraries. I also have 2.6 and 3.x installed, I doubt they would cause any problem.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#43</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-31T07:14:12Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-31T07:14:12Z</span>
  </p>
  <div>
    <p>@Dwayne: yes, I was wrong, you are using the official interpreter. I thought the path to your site-packages looked a bit strange, but I guess Windows does this differently than Unix.<br>
In any case, I'm running out of ideas. Could you try commenting out all the Flask-Whooshalchemy stuff and confirm that that addresses the problem? The _QueryProxy class inherits from BaseQuery, which has the paginate() method, so I don't understand how that method can be missing.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/0615266824e971dd27d76868dfad83dd?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#44</span> <span class="badge text-bg-warning">Dwayne Boothe</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-31T21:31:10Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-31T21:31:10Z</span>
  </p>
  <div>
    <p>I commented out the the 2 lines of Whoosh stuff and it worked, also, the tests passed. The post are coming from the right source now. </p>
<p>About  _QueryProxy, I agree, looking at the documentation it does inherit from BaseQuery and therefore has the paginate method so I do not understand what happening.</p>
<p>Well we can deduce that it has something to do with the WhooshAlchemy extension. Ok, I really want to finish this tut. so what advice would you give to move forward?</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#45</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-08-31T21:39:07Z" data-function="fromNow" data-refresh="0" style="display: none">2013-08-31T21:39:07Z</span>
  </p>
  <div>
    <p>@Dwayne: Okay, my advice is that you leave the whooshalchemy stuff commented out for now, so that you can continue. But before you do that please zip up your entire microblog application, including the virtualenv and send me a copy, so that I can try to reproduce and debug here. You can email it to miguel at this domain.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/0615266824e971dd27d76868dfad83dd?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#46</span> <span class="badge text-bg-warning">Dwayne Boothe</span> said
    
    <span class="flask-moment" data-timestamp="2013-09-01T05:23:15Z" data-function="fromNow" data-refresh="0" style="display: none">2013-09-01T05:23:15Z</span>
  </p>
  <div>
    <p>Ok will do. Thanks.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/99ffb652156f86f2e36e317b66d49030?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#47</span> <span class="badge text-bg-warning">Johan Wastring</span> said
    
    <span class="flask-moment" data-timestamp="2013-09-05T09:48:46Z" data-function="fromNow" data-refresh="0" style="display: none">2013-09-05T09:48:46Z</span>
  </p>
  <div>
    <p>I am not sure that I am getting sthe same problem, but it seems very related. After trying out the whoosh parts from the next tutorial I got this error: AttributeError: '_QueryProxy' object has no attribute 'paginate'.<br>
Initially I hade problems with getting the Flask-whoosh extension to work at all. I probably don't have my virtualenv correctly installed so I installed it globally instead. Since flask_whooshalchemy complained about the versioning and I didn't get whos version it had problems with, I installed the sqlalchemy to the version mentioned in tut 1 (possibly downgrading it since I gave it a specific version at install with pip), globally. The whoosh started to work, the server started up, but I got the error in the browser. And I got the error in Terminal as well, after successful startup. So my guess is versioning on sqlalchemy? Might be absolutely wrong as well. I am gut-guessing here :-)</p>
<p>But, just to mention it - wonderful tutorial that has finally made me understand templates/web application structure in general and Flask specifics! Looking forward to the book!</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#48</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-09-06T16:17:02Z" data-function="fromNow" data-refresh="0" style="display: none">2013-09-06T16:17:02Z</span>
  </p>
  <div>
    <p>@Johan: Flask-Whooshalchemy has a bug, you have to install this project from my github fork. I need to review the tutorial to make this more explicit. Sorry for the confusion.</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/ce72d7b14184a2f53f36c7ba7bd1ac33?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#49</span> <span class="badge text-bg-warning">leonac</span> said
    
    <span class="flask-moment" data-timestamp="2013-10-05T15:56:53Z" data-function="fromNow" data-refresh="0" style="display: none">2013-10-05T15:56:53Z</span>
  </p>
  <div>
    <p>Hello Miguel ! If post content too long, we will take a paragraph summary and replace the rest of content with "read more..." link at the blog Home page .  The question is How to do that?  I use content[:end] to implement. But looks odd. Could you please let me  know solution?</p>
  </div>
</div>
    </li>
    
    <li>
      <div class="comment-thumbnail"><img class="rounded" src="https://gravatar.com/avatar/729e26a2a2c7ff24a71958d4aa4e5f35?s=60&amp;d=identicon"></div>
<div class="comment-body">
  
  <p>
    
    <span class="badge bg-secondary">#50</span> <span class="badge text-bg-danger">Miguel Grinberg</span> said
    
    <span class="flask-moment" data-timestamp="2013-10-05T17:26:56Z" data-function="fromNow" data-refresh="0" style="display: none">2013-10-05T17:26:56Z</span>
  </p>
  <div>
    <p>@leonac: Maybe after you extract the summary you should look for the closest white space and end the summary there. For this blog I do it differently though, for each post I have a number of paragraphs to include in the summary, so I always break at paragraph boundaries.</p>
  </div>
</div>
    </li>
    
  </ul>
</div>

<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item"><a class="page-link" href="1.html#comments">&laquo;&laquo;</a></li>
    <li class="page-item"><a class="page-link" href="1.html#comments">&laquo;</a></li>
    <li class="page-item"><a class="page-link" href="3.html#comments">&raquo;</a></li>
    <li class="page-item"><a class="page-link" href="0.html#comments">&raquo;&raquo;</a></li>
  </ul>
</nav>



<div id="comment-form">
  <h3>Leave a Comment</h3>

  
  
  

  
<form action="#comment-form" method="post">
  <input id="url" name="url" type="hidden" value="">
<input id="csrf_token" name="csrf_token" type="hidden" value="IjQyYjY5YzZlNTcyYjFkMTVlZGRkOWJjYjA3ZmFlYWFiNTg3YmU5ODki.ZxdzHA.VeN5d4yPgWbUn26WGnYs6nUckRg">
    
  <div class="mb-3">
    <label class="form-label" for="name">Name</label>
    <div class="input-group has-validation">
      <input class="form-control" id="name" name="name" required type="text" value="">
    </div>
  </div>

    
    
  <div class="mb-3">
    <label class="form-label" for="email">Email</label>
    <div class="input-group has-validation">
      <input class="form-control" id="email" name="email" required type="text" value="">
    </div>
  </div>

    
  <div class="mb-3">
    <label class="form-label" for="comment">Comment</label>
    <div class="input-group has-validation">
      <textarea class="form-control" id="comment" name="comment" required>
</textarea>
    </div>
  </div>

    
  <div class="mb-3">
    <label class="form-label" for="captcha">Captcha</label>
    <div class="input-group has-validation">
      
<script src='https://www.google.com/recaptcha/api.js' async defer></script>
<div class="g-recaptcha" data-sitekey="6Ld5Zs4SAAAAAOY0DOi4r18bgHlEaz41qAoRf__S"></div>

    </div>
  </div>

    
  <input class="btn btn-primary mb-3" id="submit" name="submit" type="submit" value="Submit">

      
</form>

</div>


</div>

      </div>
    </div>
    
    <div class="col-md-4">
      <div id="sidebar">
        
          
  



<div class="card">
  
  
  
  
  <div class="card-header">
    <div class="row">
      <div class="col">The Flask Mega-Tutorial</div>
      <div class="col text-end">
        <a href="../../announcing-the-flask-mega-tutorial-2024-edition.html">
          <h5 style="margin-bottom: 0px"><span class="badge text-bg-warning">New 2024 Edition!</span></h5>
        </a>
      </div>
    </div>
  </div>
  <a class="card-book-cover" href="https://amzn.to/3MQffrm">
    <img src="../../../static/mega-tutorial-2024-small.png" alt="The New Flask Mega-Tutorial">
  </a>
  <div class="card-body">
    <p class="card-text">If you would you like to support my work on my <a href="../../the-flask-mega-tutorial-part-i-hello-world.html">Flask Mega-Tutorial series</a> on this blog and as a reward have access to the complete tutorial nicely structured as a book and/or a set of videos, you can now order it from my <a href="https://courses.miguelgrinberg.com/p/flask-mega-tutorial">Courses</a> site or from <a href="https://amzn.to/3MQffrm">Amazon</a>.</p>
  </div>
  <div class="card-body">
    <a class="card-link" href="https://amzn.to/3MQffrm">Click here to get the Book!</a><br />
    <a class="card-link" href="https://courses.miguelgrinberg.com/p/flask-mega-tutorial">Click here to get the Video Course!</a>
  </div>

  
</div>
        
        <div class="card">
  <div class="card-header">About Miguel</div>
  <div class="card-body">
    <img style="float: right; margin: 0px 8px 8px 0px; padding: 4px; border: 1px solid #ccc;" src="../../../static/miguel.jpg" />
    <p class="card-text">Welcome to my blog!</p>
    <p class="card-text">I'm a software engineer and technical writer, currently living in Drogheda, Ireland.</p>
    <p class="card-text">You can also find me on <a href="https://twitter.com/miguelgrinberg">Twitter</a>, <a href="https://mstdn.social/@miguelgrinberg">Mastodon</a>, <a href="https://github.com/miguelgrinberg">Github</a>, <a href="http://www.linkedin.com/in/miguelgrinberg">LinkedIn</a>, <a href="https://youtube.com/miguelgrinberg">YouTube</a>, <a href="https://www.facebook.com/miguelgrinbergblog">Facebook</a> and <a href="https://patreon.com/miguelgrinberg">Patreon</a>.</p>
    <p class="card-text">Thank you for visiting!</p>
  </div>
</div>
        
        <div class="card" id="categories">
  <div class="card-header">Categories</div>
  <div class="card-body">
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/AI/feed"><img src="../../../static/rss-small.png" title="AI RSS Feed" label="AI RSS Feed" alt="AI RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/AI" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="AI" /> <small><em>2</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/AWS/feed"><img src="../../../static/rss-small.png" title="AWS RSS Feed" label="AWS RSS Feed" alt="AWS RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/AWS" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="AWS" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Arduino/feed"><img src="../../../static/rss-small.png" title="Arduino RSS Feed" label="Arduino RSS Feed" alt="Arduino RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Arduino" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Arduino" /> <small><em>7</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Authentication/feed"><img src="../../../static/rss-small.png" title="Authentication RSS Feed" label="Authentication RSS Feed" alt="Authentication RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Authentication" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Authentication" /> <small><em>10</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Blog/feed"><img src="../../../static/rss-small.png" title="Blog RSS Feed" label="Blog RSS Feed" alt="Blog RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Blog" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Blog" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/C++/feed"><img src="../../../static/rss-small.png" title="C++ RSS Feed" label="C++ RSS Feed" alt="C++ RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/C++" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="C++" /> <small><em>5</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/CSS/feed"><img src="../../../static/rss-small.png" title="CSS RSS Feed" label="CSS RSS Feed" alt="CSS RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/CSS" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="CSS" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Cloud/feed"><img src="../../../static/rss-small.png" title="Cloud RSS Feed" label="Cloud RSS Feed" alt="Cloud RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Cloud" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Cloud" /> <small><em>10</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Database/feed"><img src="../../../static/rss-small.png" title="Database RSS Feed" label="Database RSS Feed" alt="Database RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Database" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Database" /> <small><em>22</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Docker/feed"><img src="../../../static/rss-small.png" title="Docker RSS Feed" label="Docker RSS Feed" alt="Docker RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Docker" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Docker" /> <small><em>5</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Filmmaking/feed"><img src="../../../static/rss-small.png" title="Filmmaking RSS Feed" label="Filmmaking RSS Feed" alt="Filmmaking RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Filmmaking" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Filmmaking" /> <small><em>6</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Flask/feed"><img src="../../../static/rss-small.png" title="Flask RSS Feed" label="Flask RSS Feed" alt="Flask RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Flask" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Flask" /> <small><em>126</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Games/feed"><img src="../../../static/rss-small.png" title="Games RSS Feed" label="Games RSS Feed" alt="Games RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Games" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Games" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Heroku/feed"><img src="../../../static/rss-small.png" title="Heroku RSS Feed" label="Heroku RSS Feed" alt="Heroku RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Heroku" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Heroku" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/IoT/feed"><img src="../../../static/rss-small.png" title="IoT RSS Feed" label="IoT RSS Feed" alt="IoT RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/IoT" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="IoT" /> <small><em>8</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/JavaScript/feed"><img src="../../../static/rss-small.png" title="JavaScript RSS Feed" label="JavaScript RSS Feed" alt="JavaScript RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/JavaScript" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="JavaScript" /> <small><em>35</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/MicroPython/feed"><img src="../../../static/rss-small.png" title="MicroPython RSS Feed" label="MicroPython RSS Feed" alt="MicroPython RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/MicroPython" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="MicroPython" /> <small><em>9</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Microdot/feed"><img src="../../../static/rss-small.png" title="Microdot RSS Feed" label="Microdot RSS Feed" alt="Microdot RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Microdot" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Microdot" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Microservices/feed"><img src="../../../static/rss-small.png" title="Microservices RSS Feed" label="Microservices RSS Feed" alt="Microservices RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Microservices" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Microservices" /> <small><em>2</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Movie Reviews/feed"><img src="../../../static/rss-small.png" title="Movie Reviews RSS Feed" label="Movie Reviews RSS Feed" alt="Movie Reviews RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Movie Reviews" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Movie Reviews" /> <small><em>5</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/OpenStack/feed"><img src="../../../static/rss-small.png" title="OpenStack RSS Feed" label="OpenStack RSS Feed" alt="OpenStack RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/OpenStack" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="OpenStack" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Personal/feed"><img src="../../../static/rss-small.png" title="Personal RSS Feed" label="Personal RSS Feed" alt="Personal RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Personal" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Personal" /> <small><em>3</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Photography/feed"><img src="../../../static/rss-small.png" title="Photography RSS Feed" label="Photography RSS Feed" alt="Photography RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Photography" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Photography" /> <small><em>7</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Product Reviews/feed"><img src="../../../static/rss-small.png" title="Product Reviews RSS Feed" label="Product Reviews RSS Feed" alt="Product Reviews RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Product Reviews" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Product Reviews" /> <small><em>2</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Programming/feed"><img src="../../../static/rss-small.png" title="Programming RSS Feed" label="Programming RSS Feed" alt="Programming RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Programming" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Programming" /> <small><em>187</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Project Management/feed"><img src="../../../static/rss-small.png" title="Project Management RSS Feed" label="Project Management RSS Feed" alt="Project Management RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Project Management" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Project Management" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Python/feed"><img src="../../../static/rss-small.png" title="Python RSS Feed" label="Python RSS Feed" alt="Python RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Python" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Python" /> <small><em>169</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/REST/feed"><img src="../../../static/rss-small.png" title="REST RSS Feed" label="REST RSS Feed" alt="REST RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/REST" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="REST" /> <small><em>7</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Rackspace/feed"><img src="../../../static/rss-small.png" title="Rackspace RSS Feed" label="Rackspace RSS Feed" alt="Rackspace RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Rackspace" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Rackspace" /> <small><em>1</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Raspberry Pi/feed"><img src="../../../static/rss-small.png" title="Raspberry Pi RSS Feed" label="Raspberry Pi RSS Feed" alt="Raspberry Pi RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Raspberry Pi" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Raspberry Pi" /> <small><em>8</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/React/feed"><img src="../../../static/rss-small.png" title="React RSS Feed" label="React RSS Feed" alt="React RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/React" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="React" /> <small><em>18</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Robotics/feed"><img src="../../../static/rss-small.png" title="Robotics RSS Feed" label="Robotics RSS Feed" alt="Robotics RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Robotics" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Robotics" /> <small><em>6</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Security/feed"><img src="../../../static/rss-small.png" title="Security RSS Feed" label="Security RSS Feed" alt="Security RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Security" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Security" /> <small><em>12</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Video/feed"><img src="../../../static/rss-small.png" title="Video RSS Feed" label="Video RSS Feed" alt="Video RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Video" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Video" /> <small><em>22</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/WebSocket/feed"><img src="../../../static/rss-small.png" title="WebSocket RSS Feed" label="WebSocket RSS Feed" alt="WebSocket RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/WebSocket" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="WebSocket" /> <small><em>2</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Webcast/feed"><img src="../../../static/rss-small.png" title="Webcast RSS Feed" label="Webcast RSS Feed" alt="Webcast RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Webcast" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Webcast" /> <small><em>3</em></small>
      </form>
    </div>
    
    <div class="category">
      <a href="https://blog.miguelgrinberg.com/category/Windows/feed"><img src="../../../static/rss-small.png" title="Windows RSS Feed" label="Windows RSS Feed" alt="Windows RSS Feed" /></a>
      <form action="https://blog.miguelgrinberg.com/category/Windows" method="POST">
        <input type="submit" class="btn btn-primary btn-sm" value="Windows" /> <small><em>1</em></small>
      </form>
    </div>
    
  </div>
</div>
        
      </div>
    </div>
    
  </div>
  <div id="footer">
    
    <p>&copy; 2012-<script type="text/javascript">document.write(new Date().getFullYear());</script> by Miguel Grinberg. All rights reserved. <a href="mailto:webmaster _at_ miguelgrinberg _dot_ com">Questions?</a></p>
  </div>
</div>

  
    <script src="../../../../cdn.jsdelivr.net/npm/bootstrap%405.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script type="text/javascript" src="../../../static/prettify.js"></script>
  <script src="../../../../cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment-with-locales.min.js" integrity="sha512-42PE0rd+wZ2hNXftlM78BSehIGzezNeQuzihiBCvUEB3CVxHvsShF86wBWwQORNxNINlBPuq7rG4WWhNiTVHFg==" crossorigin="anonymous"></script>

<script>
moment.locale("en");
function flask_moment_render(elem) {{
    const timestamp = moment(elem.dataset.timestamp);
    const func = elem.dataset.function;
    const format = elem.dataset.format;
    const timestamp2 = elem.dataset.timestamp2;
    const no_suffix = elem.dataset.nosuffix;
    const units = elem.dataset.units;
    let args = [];
    if (format)
        args.push(format);
    if (timestamp2)
        args.push(moment(timestamp2));
    if (no_suffix)
        args.push(no_suffix);
    if (units)
        args.push(units);
    elem.textContent = timestamp[func].apply(timestamp, args);
    elem.classList.remove('flask-moment');
    elem.style.display = "";
}}
function flask_moment_render_all() {{
    const moments = document.querySelectorAll('.flask-moment');
    moments.forEach(function(moment) {{
        flask_moment_render(moment);
        const refresh = moment.dataset.refresh;
        if (refresh && refresh > 0) {{
            (function(elem, interval) {{
                setInterval(function() {{
                    flask_moment_render(elem);
                }}, interval);
            }})(moment, refresh);
        }}
    }})
}}
document.addEventListener("DOMContentLoaded", flask_moment_render_all);
</script>

  
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-20EHZP9GRZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-20EHZP9GRZ');
  </script>
  
  <script type="text/javascript">
    function setThemeUI() {
      document.getElementById('select-theme-auto').classList.remove('active');
      document.getElementById('select-theme-light').classList.remove('active');
      document.getElementById('select-theme-dark').classList.remove('active');
      const theme = getPreferredTheme();
      const actualTheme = document.documentElement.getAttribute('data-bs-theme', 'light');
      document.getElementById('select-theme-' + theme).classList.add('active');
      document.getElementById('current-theme').href.baseVal = `#icon-theme-${actualTheme}`;
    };

    function updateTheme(theme) {
      if (theme === 'auto') {
        localStorage.removeItem('theme')
      }
      else {
        localStorage.setItem('theme', theme)
      }
      setTheme(getPreferredTheme());
    }

    setThemeUI();

    const darkModePreference = window.matchMedia("(prefers-color-scheme: dark)");
    darkModePreference.addEventListener("change", e => {
      if (getPreferredTheme() === 'auto') {
        setTheme('auto');
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
      // add prettyprint class to all <pre><code></code></pre> blocks
      let prettify = false;
      document.querySelectorAll('div.post-body pre code').forEach((code) => {
        code.parentNode.classList.add('prettyprint');
        prettify = true;
      });
      prettyPrint();
    });
  </script>

  </body>

<!-- Mirrored from blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-ix-pagination-legacy/page/2 by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 22 Oct 2024 09:43:18 GMT -->
</html>